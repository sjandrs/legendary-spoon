{
  "$schema": "https://json-schema.org/draft/2019-09/schema#",
  "$id": "https://converge.local/schemas/budget-v2.schema.json",
  "title": "Budget (v2 - Dimensional)",
  "$comment": "Draft 2019-09 informational variant. Annotations only; no inferred required.",
  "type": "object",
  "properties": {
    "id": { "type": "integer" },
    "name": { "type": "string" },
    "budget_against": { "type": "string", "enum": ["Cost Center", "Project"] },
    "dimension_id": { "type": "integer" },
    "year": { "type": "integer" },
    "monthly_distribution": { "type": ["integer", "null"] },
    "accounts": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "ledger_account_id": { "type": "integer" },
          "budget_amount": { "type": "number" }
        }
      }
    }
  },
  "examples": [
    {
      "name": "FY2026 Marketing Budget",
      "budget_against": "Project",
      "dimension_id": 42,
      "year": 2026,
      "monthly_distribution": null,
      "accounts": [
        {"ledger_account_id": 4000, "budget_amount": 50000}
      ]
    }
  ]
}
